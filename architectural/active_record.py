"""
Active Record — архитектурный паттерн

Объединяет данные и поведение объекта, связанного с таблицей базы данных.
Каждый экземпляр класса соответствует строке в таблице и содержит методы
для сохранения, загрузки, обновления и удаления своих данных.

Применяется в простых CRUD-приложениях, где бизнес-логика и хранение
данных тесно связаны. Является основой для многих ORM.
"""


class User:
    _db = []

    def __init__(self, name):
        self.name = name

    def save(self):
        print(f"Сохраняем пользователя '{self.name}' в базу данных")
        self._db.append(self)

    def delete(self):
        print(f"Удаляем пользователя '{self.name}' из базы данных")
        self._db.remove(self)


if __name__ == "__main__":
    user1 = User("Алиса")
    user1.save()

    user2 = User("Боб")
    user2.save()

    user1.delete()
